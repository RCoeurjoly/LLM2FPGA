* DONE subtask 1.a
CLOSED: [2025-11-03 Mon 12:08]
- State "DONE"       from              [2025-11-03 Mon 12:08]
** DONE Quick AI analysis of all papers to find snags [0/13]
CLOSED: [2025-08-10 Sun 14:17]
- State "DONE"       from "TODO_NEXT"  [2025-08-10 Sun 14:17]
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:22]
*** TODO_NEXT TeLLMe (https://arxiv.org/abs/2504.16266)          
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT https://arxiv.org/abs/2503.16731                   
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT TerEffic https://arxiv.org/abs/2502.16473          
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT MEADOW https://arxiv.org/abs/2503.11663            
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT FlightLLM https://arxiv.org/abs/2401.03868         
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT SECDA-LLM https://arxiv.org/abs/2408.00462         
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT MatMul-Free LM https://arxiv.org/abs/2406.02528    
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT LoopLynx https://arxiv.org/abs/2504.09561          
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT On-Device Qwen2.5 https://arxiv.org/abs/2504.17376 
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT HLSTransform https://arxiv.org/abs/2405.00738      
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT https://arxiv.org/abs/2312.15159                   
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT AccLLM https://arxiv.org/abs/2505.03745            
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
*** TODO_NEXT MASE https://arxiv.org/abs/2307.15517v2            
- State "TODO_NEXT"  from              [2025-07-02 Wed 12:25]
** DONE Create links to all papers analyzed
CLOSED: [2025-07-02 Wed 12:21]
- State "DONE"       from "TODO_NEXT"  [2025-07-02 Wed 12:21]
- State "TODO_NEXT"  from              [2025-06-30 Mon 21:13]

* TODO_NEXT 1b-compatibility_check
- State "TODO_NEXT"  from              [2025-11-03 Mon 12:02]
** TODO_NEXT Richielee630/TMMA
- State "TODO_NEXT"  from              [2025-11-03 Mon 12:06]
** TODO_NEXT LoopLynx
- State "TODO_NEXT"  from              [2025-11-03 Mon 12:06]
** TODO_NEXT HLSTransform
- State "TODO_NEXT"  from              [2025-11-03 Mon 12:06]
** TODO_NEXT cornell-zhang/allo
- State "TODO_NEXT"  from              [2025-11-03 Mon 12:07]
** DONE Mase
CLOSED: [2025-11-03 Mon 12:05]
- State "DONE"       from              [2025-11-03 Mon 12:05]
*** DONE Deepwok / MASE — elaboration attempt + blockage
  CLOSED: [2025-11-03 Mon 12:02] SCHEDULED: <2025-10-08 Wed 16:14>
  :PROPERTIES:
  :Repo:     RCoeurjoly/mase (branch: RCoeurjoly/flake)
  :Tooling:  nix, python venv, yosys 0.45+126, yosys-slang plugin
  :Top:      top
  :Result:   BLOCKED (missing generated modules)
  :END:

  - State "DONE"       from "TODO_NEXT"  [2025-11-03 Mon 12:02]
**** Steps run
#+begin_src bash
git clone git@github.com:RCoeurjoly/mase.git
cd mase
git checkout RCoeurjoly/flake

# Dev env (works, not fully polished)
nix develop
source .venv/bin/activate

# Generate RTL via MASE helper
python LLM2FPGA.py

# Check outputs
ls ~/.mase

# Build yosys-slang (per its README), ensure yosys in PATH
cd ~/yosys-slang

# Elaborate with slang (SystemVerilog)
yosys -m build/slang.so -p \
  "read_slang \
     /home/roland/mase/src/mase_components/memory/rtl/fifo.sv \
     /home/roland/mase/src/mase_components/common/rtl/mux.sv \
     /home/roland/.mase/top/hardware/rtl/*.sv \
     /home/roland/mase/src/mase_components/common/rtl/single_element_repeat.sv \
     /home/roland/mase/src/mase_components/common/rtl/unpacked_register_slice.sv \
     /home/roland/mase/src/mase_components/cast/rtl/fixed_rounding.sv \
     /home/roland/mase/src/mase_components/memory/rtl/input_buffer.sv \
     /home/roland/mase/src/mase_components/memory/rtl/unpacked_skid_buffer.sv \
     /home/roland/mase/src/mase_components/cast/rtl/fixed_round.sv \
     /home/roland/mase/src/mase_components/cast/rtl/fixed_signed_cast.sv \
     /home/roland/mase/src/mase_components/cast/rtl/signed_clamp.sv \
     /home/roland/mase/src/mase_components/cast/rtl/floor_round.sv \
     /home/roland/mase/src/mase_components/memory/rtl/blk_mem_gen_0.sv \
     /home/roland/mase/src/mase_components/memory/rtl/simple_dual_port_ram.sv \
     --top top"
#+end_src

**** Output
 /----------------------------------------------------------------------------\
 |  yosys -- Yosys Open SYnthesis Suite                                       |
 |  Copyright (C) 2012 - 2024  Claire Xenia Wolf <claire@yosyshq.com>         |
 |  Distributed under an ISC-like license, type "license" to see terms        |
 \----------------------------------------------------------------------------/
 Yosys 0.45+126 (git sha1 80119386c, g++ 11.4.0-1ubuntu1~22.04 -Og -fPIC)

-- Running command `read_slang /home/roland/mase/src/mase_components/memory/rtl/fifo.sv /home/roland/mase/src/mase_components/common/rtl/mux.sv /home/roland/.mase/top/hardware/rtl/*.sv /home/roland/mase/src/mase_components/common/rtl/single_element_repeat.sv /home/roland/mase/src/mase_components/common/rtl/unpacked_register_slice.sv /home/roland/mase/src/mase_components/cast/rtl/fixed_rounding.sv /home/roland/mase/src/mase_components/memory/rtl/input_buffer.sv /home/roland/mase/src/mase_components/memory/rtl/unpacked_skid_buffer.sv /home/roland/mase/src/mase_components/cast/rtl/fixed_round.sv /home/roland/mase/src/mase_components/cast/rtl/fixed_signed_cast.sv /home/roland/mase/src/mase_components/cast/rtl/signed_clamp.sv /home/roland/mase/src/mase_components/cast/rtl/floor_round.sv /home/roland/mase/src/mase_components/memory/rtl/blk_mem_gen_0.sv /home/roland/mase/src/mase_components/memory/rtl/simple_dual_port_ram.sv --top top' --

1. Executing SLANG frontend.
Top level design units:
    top

../.mase/top/hardware/rtl/top.sv:182:1: error: unknown module 'net_0_bias_source'
net_0_bias_source #(
^~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/top.sv:264:1: error: unknown module 'net_2_weight_source'
net_2_weight_source #(
^~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/top.sv:278:1: error: unknown module 'net_2_bias_source'
net_2_bias_source #(
^~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matrix_stream_transpose.sv:43:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matrix_stream_transpose.sv:45:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:84:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_TOTAL_DIM0 must equal B_TOTAL_DIM1!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:86:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_COMPUTE_DIM0 must equal B_COMPUTE_DIM1!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:90:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:92:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:94:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("B_DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:96:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("B_DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/simple_matmul.sv:64:19: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
      else $fatal("OUT_WIDTH must be %d if OUTPUT_ROUNDING == 0", ACC_WIDTH);
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/simple_matmul.sv:66:19: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
      else $fatal("OUT_FRAC_WIDTH must be %d if OUTPUT_ROUNDING == 0", ACC_FRAC_WIDTH);
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Build failed: 3 errors, 10 warnings
ERROR: Compilation failed

**** Output (summary)
- Yosys: 0.45+126 (80119386c)
- Frontend: slang (SystemVerilog)
- Errors (3): unknown module instances required by top:
  - net_0_bias_source
  - net_2_weight_source
  - net_2_bias_source
- Warnings (10): `$fatal` form (“finish argument must be 0/1/2”) — non-blocking for 1b.

**** Diagnosis
- 'top.sv' instantiates per-net source wrappers for weights/biases.
- Only 'net_0_weight_source.sv' is present under `~/.mase`:
  - Evidence: '~/.mase/top/hardware/rtl/net_0_weight_source.sv'
- The corresponding bias/weight source modules were *not generated* by LLM2FPGA.py in this run, so elaboration halts at hierarchy resolution.
*** DONE Write the steps for deepwok mase
CLOSED: [2025-11-03 Mon 12:02]
- State "DONE"       from "TODO_NEXT"  [2025-11-03 Mon 12:02]
- State "TODO_NEXT"  from              [2025-10-08 Wed 16:14]
We have created a fork of mase, with a branch called RCoeurjoly/flake.

git clone git@github.com:RCoeurjoly/mase.git
cd mase
git checkout RCoeurjoly/flake

# Enter the environment, not completely pulished but it works
nix develop
source .venv/bin/activate

# Execute custom script called LLM2FPGA.py, making use of mase library
python LLM2FPGA.py

# We check that systemverilog files have been generated to ~/.mase
ls ~/.mase
# Build yosys-slang following its README instructions: https://github.com/povik/yosys-slang?tab=readme-ov-file#building
cd ~/yosys-slang
# Now we process the mase generated RTL files
# yosys has to be in PATH,
yosys -m build/slang.so -p "read_slang /home/roland/mase/src/mase_components/memory/rtl/fifo.sv /home/roland/mase/src/mase_components/common/rtl/mux.sv /home/roland/.mase/top/hardware/rtl/*.sv /home/roland/mase/src/mase_components/common/rtl/single_element_repeat.sv /home/roland/mase/src/mase_components/common/rtl/unpacked_register_slice.sv /home/roland/mase/src/mase_components/cast/rtl/fixed_rounding.sv /home/roland/mase/src/mase_components/memory/rtl/input_buffer.sv /home/roland/mase/src/mase_components/memory/rtl/unpacked_skid_buffer.sv /home/roland/mase/src/mase_components/cast/rtl/fixed_round.sv /home/roland/mase/src/mase_components/cast/rtl/fixed_signed_cast.sv /home/roland/mase/src/mase_components/cast/rtl/signed_clamp.sv /home/roland/mase/src/mase_components/cast/rtl/floor_round.sv /home/roland/mase/src/mase_components/memory/rtl/blk_mem_gen_0.sv /home/roland/mase/src/mase_components/memory/rtl/simple_dual_port_ram.sv --top top"


 /----------------------------------------------------------------------------\
 |  yosys -- Yosys Open SYnthesis Suite                                       |
 |  Copyright (C) 2012 - 2024  Claire Xenia Wolf <claire@yosyshq.com>         |
 |  Distributed under an ISC-like license, type "license" to see terms        |
 \----------------------------------------------------------------------------/
 Yosys 0.45+126 (git sha1 80119386c, g++ 11.4.0-1ubuntu1~22.04 -Og -fPIC)

-- Running command `read_slang /home/roland/mase/src/mase_components/memory/rtl/fifo.sv /home/roland/mase/src/mase_components/common/rtl/mux.sv /home/roland/.mase/top/hardware/rtl/*.sv /home/roland/mase/src/mase_components/common/rtl/single_element_repeat.sv /home/roland/mase/src/mase_components/common/rtl/unpacked_register_slice.sv /home/roland/mase/src/mase_components/cast/rtl/fixed_rounding.sv /home/roland/mase/src/mase_components/memory/rtl/input_buffer.sv /home/roland/mase/src/mase_components/memory/rtl/unpacked_skid_buffer.sv /home/roland/mase/src/mase_components/cast/rtl/fixed_round.sv /home/roland/mase/src/mase_components/cast/rtl/fixed_signed_cast.sv /home/roland/mase/src/mase_components/cast/rtl/signed_clamp.sv /home/roland/mase/src/mase_components/cast/rtl/floor_round.sv /home/roland/mase/src/mase_components/memory/rtl/blk_mem_gen_0.sv /home/roland/mase/src/mase_components/memory/rtl/simple_dual_port_ram.sv --top top' --

1. Executing SLANG frontend.
Top level design units:
    top

../.mase/top/hardware/rtl/top.sv:182:1: error: unknown module 'net_0_bias_source'
net_0_bias_source #(
^~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/top.sv:264:1: error: unknown module 'net_2_weight_source'
net_2_weight_source #(
^~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/top.sv:278:1: error: unknown module 'net_2_bias_source'
net_2_bias_source #(
^~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matrix_stream_transpose.sv:43:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matrix_stream_transpose.sv:45:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:84:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_TOTAL_DIM0 must equal B_TOTAL_DIM1!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:86:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_COMPUTE_DIM0 must equal B_COMPUTE_DIM1!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:90:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:92:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:94:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("B_DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:96:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("B_DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/simple_matmul.sv:64:19: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
      else $fatal("OUT_WIDTH must be %d if OUTPUT_ROUNDING == 0", ACC_WIDTH);
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/simple_matmul.sv:66:19: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
      else $fatal("OUT_FRAC_WIDTH must be %d if OUTPUT_ROUNDING == 0", ACC_FRAC_WIDTH);
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Build failed: 3 errors, 10 warnings
ERROR: Compilation failed

Those three missing modules (net_0_bias_source, net_2_weight_source and net_2_bias_source) are required by the top module but not generated by the LLM2FPGA.py. More research is needed to fix those.
*** DONE Mase
CLOSED: [2025-11-03 Mon 12:02]
- State "DONE"       from "TODO_NEXT"  [2025-11-03 Mon 12:02]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:39]
**** TODO_NEXT Figure out how the ~/.mase/top/hardware/rtl/*.sv files were created
- State "TODO_NEXT"  from              [2025-10-20 Mon 21:50]
  
**** CANCELED Elaborate SystemVerilog with yosys-slang
CLOSED: [2025-10-20 Mon 21:50]
- State "CANCELED"   from "TODO_NEXT"  [2025-10-20 Mon 21:50]
- State "TODO_NEXT"  from              [2025-08-19 Tue 13:39]
***** CANCELED Process BERT
CLOSED: [2025-10-20 Mon 21:50]
- State "CANCELED"   from "TODO_NEXT"  [2025-10-20 Mon 21:50]
- State "TODO_NEXT"  from              [2025-08-21 Thu 12:58]
  docs/tutorials/emit_verilog_bert.ipynb

  after jupyter nbconvert --to script docs/tutorials/emit_verilog_bert.ipynb, we can execute the python script:

  python docs/tutorials/emit_verilog_bert.py
****** TODO_NEXT Fix all errors
- State "TODO_NEXT"  from              [2025-08-21 Thu 13:22]
******* TODO_NEXT ModuleNotFoundError: No module named 'chop.models.patched'
- State "TODO_NEXT"  from              [2025-08-21 Thu 13:22]
***** DONE Create yosys script
CLOSED: [2025-08-21 Thu 12:58]
- State "DONE"       from "TODO_NEXT"  [2025-08-21 Thu 12:58]
- State "TODO_NEXT"  from              [2025-08-19 Tue 13:39]
Emitted SystemVerilog files:
   /home/roland/.mase/top/hardware/rtl/fixed_accumulator.sv
   /home/roland/.mase/top/hardware/rtl/fixed_adder_tree.sv
   /home/roland/.mase/top/hardware/rtl/fixed_adder_tree_layer.sv
   /home/roland/.mase/top/hardware/rtl/fixed_cast.sv
   /home/roland/.mase/top/hardware/rtl/fixed_dot_product.sv
   /home/roland/.mase/top/hardware/rtl/fixed_linear.sv
   /home/roland/.mase/top/hardware/rtl/fixed_mult.sv
   /home/roland/.mase/top/hardware/rtl/fixed_relu.sv
   /home/roland/.mase/top/hardware/rtl/fixed_vector_mult.sv
   /home/roland/.mase/top/hardware/rtl/join2.sv
   /home/roland/.mase/top/hardware/rtl/matmul.sv
   /home/roland/.mase/top/hardware/rtl/matrix_accumulator.sv
   /home/roland/.mase/top/hardware/rtl/matrix_fifo.sv
   /home/roland/.mase/top/hardware/rtl/matrix_flatten.sv
   /home/roland/.mase/top/hardware/rtl/matrix_stream_transpose.sv
   /home/roland/.mase/top/hardware/rtl/matrix_unflatten.sv
   /home/roland/.mase/top/hardware/rtl/register_slice.sv
   /home/roland/.mase/top/hardware/rtl/simple_matmul.sv
   /home/roland/.mase/top/hardware/rtl/skid_buffer.sv
   /home/roland/.mase/top/hardware/rtl/top.sv
   /home/roland/.mase/top/hardware/rtl/transpose.sv
   /home/roland/.mase/top/hardware/rtl/unpacked_repeat_circular_buffer.sv
****** CANCELED Fix unknown module errors [12/16]
CLOSED: [2025-08-21 Thu 12:57]
- State "CANCELED"   from "TODO_NEXT"  [2025-08-21 Thu 12:57]
- State "TODO_NEXT"  from              [2025-08-20 Wed 13:58]
  Better to use existing workflow from mase.
******* logs
yosys -m build/slang.so llm2fpga.ys

 /----------------------------------------------------------------------------\
 | yosys -- Yosys Open SYnthesis Suite                                |
 | Copyright (C) 2012 - 2024  Claire Xenia Wolf <claire@yosyshq.com>  |
 | Distributed under an ISC-like license, type "license" to see terms |
 \----------------------------------------------------------------------------/
 Yosys 0.45+126 (git sha1 80119386c, g++ 11.4.0-1ubuntu1~22.04 -Og -fPIC)

-- Executing script file `llm2fpga.ys' --

1. Executing VERIFIC (loading SystemVerilog and VHDL designs using Verific).
Built with Verific Aug24_SW_Release, released at Thu Aug 29 19:14:57 2024.

2. Executing SLANG frontend.
Top level design units:
    top

../.mase/top/hardware/rtl/top.sv:168:1: error: unknown module 'net_0_weight_source'
net_0_weight_source #(
^~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/top.sv:182:1: error: unknown module 'net_0_bias_source'
net_0_bias_source #(
^~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/top.sv:264:1: error: unknown module 'net_2_weight_source'
net_2_weight_source #(
^~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/top.sv:278:1: error: unknown module 'net_2_bias_source'
net_2_bias_source #(
^~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/fixed_vector_mult.sv:56:3: error: unknown module 'join2'
  join2 #() join_inst (
  ^~~~~
../.mase/top/hardware/rtl/matrix_stream_transpose.sv:43:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matrix_stream_transpose.sv:45:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matrix_stream_transpose.sv:115:5: error: unknown module 'fifo'
    fifo #(
    ^~~~
../.mase/top/hardware/rtl/matrix_stream_transpose.sv:142:7: error: unknown module 'mux'
      mux #(
      ^~~
../.mase/top/hardware/rtl/matrix_stream_transpose.sv:166:7: error: unknown module 'mux'
      mux #(
      ^~~
../.mase/top/hardware/rtl/matrix_stream_transpose.sv:174:7: error: unknown module 'mux'
      mux #(
      ^~~
../.mase/top/hardware/rtl/matmul.sv:84:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_TOTAL_DIM0 must equal B_TOTAL_DIM1!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:86:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_COMPUTE_DIM0 must equal B_COMPUTE_DIM1!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:90:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:92:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("A_DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:94:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("B_DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:96:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
    else $fatal("B_DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  in instance: top.net_0_inst.matmul_i
../.mase/top/hardware/rtl/matmul.sv:181:7: error: unknown module 'single_element_repeat'
      single_element_repeat #(
      ^~~~~~~~~~~~~~~~~~~~~
  in instance: top.net_2_inst.matmul_i
../.mase/top/hardware/rtl/matmul.sv:208:7: error: unknown module 'unpacked_skid_buffer'
      unpacked_skid_buffer #(
      ^~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/matmul.sv:314:5: error: unknown module 'fixed_signed_cast'
    fixed_signed_cast #(
    ^~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/fixed_linear.sv:179:5: error: unknown module 'join2'
    join2 join2_matmul_bias_i (
    ^~~~~
../.mase/top/hardware/rtl/fixed_linear.sv:186:5: error: unknown module 'input_buffer'
    input_buffer #(
    ^~~~~~~~~~~~
../.mase/top/hardware/rtl/fixed_linear.sv:205:5: error: unknown module 'fixed_rounding'
    fixed_rounding #(
    ^~~~~~~~~~~~~~
../.mase/top/hardware/rtl/fixed_linear.sv:215:5: error: unknown module 'unpacked_register_slice'
    unpacked_register_slice #(
    ^~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/fixed_linear.sv:248:5: error: unknown module 'fixed_cast'
    fixed_cast #(
    ^~~~~~~~~~
../.mase/top/hardware/rtl/simple_matmul.sv:64:19: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
      else $fatal("OUT_WIDTH must be %d if OUTPUT_ROUNDING == 0", ACC_WIDTH);
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/simple_matmul.sv:66:19: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
      else $fatal("OUT_FRAC_WIDTH must be %d if OUTPUT_ROUNDING == 0", ACC_FRAC_WIDTH);
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
../.mase/top/hardware/rtl/simple_matmul.sv:91:3: error: unknown module 'join2'
  join2 sync_handshake (
  ^~~~~
../.mase/top/hardware/rtl/simple_matmul.sv:136:9: error: unknown module 'fixed_round'
        fixed_round #(
        ^~~~~~~~~~~

Build failed: 19 errors, 10 warnings
ERROR: Compilation failed
******* Notes
sv files are also located in /home/roland/mase/src/mase_components/
******* TODO_NEXT ../.mase/top/hardware/rtl/top.sv:168:1: error: unknown module 'net_0_weight_source'
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
net_0_weight_source #(
^~~~~~~~~~~~~~~~~~~
******* TODO_NEXT ../.mase/top/hardware/rtl/top.sv:182:1: error: unknown module 'net_0_bias_source'
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
net_0_bias_source #(
^~~~~~~~~~~~~~~~~
******* TODO_NEXT ../.mase/top/hardware/rtl/top.sv:264:1: error: unknown module 'net_2_weight_source'
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
net_2_weight_source #(
^~~~~~~~~~~~~~~~~~~
******* TODO_NEXT ../.mase/top/hardware/rtl/top.sv:278:1: error: unknown module 'net_2_bias_source'
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
net_2_bias_source #(
^~~~~~~~~~~~~~~~~
******* DONE ../.mase/top/hardware/rtl/matrix_stream_transpose.sv:115:5: error: unknown module 'fifo'
CLOSED: [2025-08-20 Wed 18:58]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:58]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
    fifo #(
    ^~~~
******* DONE ../.mase/top/hardware/rtl/matrix_stream_transpose.sv:142:7: error: unknown module 'mux'
CLOSED: [2025-08-20 Wed 18:50]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:50]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
      mux #(
      ^~~
******* DONE ../.mase/top/hardware/rtl/matrix_stream_transpose.sv:166:7: error: unknown module 'mux'
CLOSED: [2025-08-20 Wed 18:50]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:50]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
      mux #(
      ^~~
******* DONE ../.mase/top/hardware/rtl/matrix_stream_transpose.sv:174:7: error: unknown module 'mux'
CLOSED: [2025-08-20 Wed 18:51]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:51]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
      mux #(
      ^~~
******* DONE ../.mase/top/hardware/rtl/matmul.sv:181:7: error: unknown module 'single_element_repeat'
CLOSED: [2025-08-20 Wed 18:59]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:59]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:46]
      single_element_repeat #(
      ^~~~~~~~~~~~~~~~~~~~~
  in instance: top.net_2_inst.matmul_i
******* DONE ../.mase/top/hardware/rtl/matmul.sv:208:7: error: unknown module 'unpacked_skid_buffer'
CLOSED: [2025-08-20 Wed 18:59]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:59]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:46]
      unpacked_skid_buffer #(
      ^~~~~~~~~~~~~~~~~~~~
******* DONE ../.mase/top/hardware/rtl/matmul.sv:314:5: error: unknown module 'fixed_signed_cast'
CLOSED: [2025-08-20 Wed 18:59]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:59]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:46]
    fixed_signed_cast #(
    ^~~~~~~~~~~~~~~~~
******* DONE ../.mase/top/hardware/rtl/fixed_linear.sv:186:5: error: unknown module 'input_buffer'
CLOSED: [2025-08-20 Wed 18:59]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:59]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:46]
    input_buffer #(
    ^~~~~~~~~~~~
******* DONE ../.mase/top/hardware/rtl/fixed_linear.sv:205:5: error: unknown module 'fixed_rounding'
CLOSED: [2025-08-20 Wed 18:59]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:59]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:46]
    fixed_rounding #(
    ^~~~~~~~~~~~~~
******* DONE ../.mase/top/hardware/rtl/fixed_linear.sv:215:5: error: unknown module 'unpacked_register_slice'
CLOSED: [2025-08-20 Wed 18:59]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:59]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:46]
    unpacked_register_slice #(
    ^~~~~~~~~~~~~~~~~~~~~~~
******* DONE ../.mase/top/hardware/rtl/fixed_linear.sv:248:5: error: unknown module 'fixed_cast'
CLOSED: [2025-08-20 Wed 18:59]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:59]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:46]
    fixed_cast #(
    ^~~~~~~~~~
******* DONE ../.mase/top/hardware/rtl/simple_matmul.sv:136:9: error: unknown module 'fixed_round'
CLOSED: [2025-08-20 Wed 18:59]
- State "DONE"       from "TODO_NEXT"  [2025-08-20 Wed 18:59]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:46]
****** CANCELED Fix warnings? [0/10]
CLOSED: [2025-08-21 Thu 12:56]
- State "CANCELED"   from "TODO_NEXT"  [2025-08-21 Thu 12:56]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:59]
******* TODO_NEXT ../.mase/top/hardware/rtl/matmul.sv:84:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
    else $fatal("A_TOTAL_DIM0 must equal B_TOTAL_DIM1!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
******* TODO_NEXT ../.mase/top/hardware/rtl/matmul.sv:86:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
    else $fatal("A_COMPUTE_DIM0 must equal B_COMPUTE_DIM1!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
******* TODO_NEXT ../.mase/top/hardware/rtl/matmul.sv:90:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
    else $fatal("A_DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
******* TODO_NEXT ../.mase/top/hardware/rtl/matmul.sv:92:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
    else $fatal("A_DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
******* TODO_NEXT ../.mase/top/hardware/rtl/matmul.sv:94:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
    else $fatal("B_DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
******* TODO_NEXT ../.mase/top/hardware/rtl/matmul.sv:96:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
    else $fatal("B_DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  in instance: top.net_0_inst.matmul_i

******* TODO_NEXT ../.mase/top/hardware/rtl/matrix_stream_transpose.sv:43:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
    else $fatal("DIM0 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
******* TODO_NEXT ../.mase/top/hardware/rtl/matrix_stream_transpose.sv:45:17: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:45]
    else $fatal("DIM1 compute is not divisible!");
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

******* TODO_NEXT ../.mase/top/hardware/rtl/simple_matmul.sv:64:19: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:46]
      else $fatal("OUT_WIDTH must be %d if OUTPUT_ROUNDING == 0", ACC_WIDTH);
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
******* TODO_NEXT ../.mase/top/hardware/rtl/simple_matmul.sv:66:19: warning: finish argument must have value of 0, 1, or 2 [-Wfinish-num]
- State "TODO_NEXT"  from              [2025-08-20 Wed 18:46]
      else $fatal("OUT_FRAC_WIDTH must be %d if OUTPUT_ROUNDING == 0", ACC_FRAC_WIDTH);
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
***** DONE Build yosys-slang
- State "DONE"       from              [2025-08-20 Wed 13:10]
  from yosys-slang dir, available with yosys -m build/slang.so
**** DONE Mase: call emit_verilog function
CLOSED: [2025-08-19 Tue 13:39]
- State "DONE"       from "TODO_NEXT"  [2025-08-19 Tue 13:39]
- State "TODO_NEXT"  from              [2025-08-10 Sun 14:18]
  Steps:
  nix develop
  source .venv/bin/activate
  
***** notes
even though the function is called emit_verilog_top_transform_pass, it emits SystemVerilog, not Verilog
***** CANCELED Setup flake.nix
CLOSED: [2025-08-13 Wed 13:08]
- State "CANCELED"   from "TODO_NEXT"  [2025-08-13 Wed 13:08]
- State "TODO_NEXT"  from              [2025-08-10 Sun 14:28]
  Let's do it later, just emit_verilog
****** CANCELED nix: /nix/store/whypqfa83z4bsn43n4byvmw80n4mg3r8-glibc-2.37-45/lib/libc.so.6: version `GLIBC_2.38' not found (required by /nix/store/90yn7340r8yab8kxpb0p7y0c9j3snjam-gcc-13.2.0-lib/lib/libstdc++.so.6)
CLOSED: [2025-08-13 Wed 13:08]
- State "CANCELED"   from "TODO_NEXT"  [2025-08-13 Wed 13:08]
- State "TODO_NEXT"  from              [2025-08-10 Sun 14:28]
nix develop

***** Notes
The most useful tutorial for LLM2FPGA is not written
https://deepwok.github.io/mase/modules/documentation/tutorials/tutorial_8_emit_verilog.html
